{
    "id": "ExtBox1-ext-gen51189",
    "type": "controller",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "stores": [
            "PeopleStore"
        ],
        "views": [
            "ContactDetail"
        ],
        "designer|userClassName": "Contact"
    },
    "customConfigs": [],
    "designerId": "4924b61f-714b-45ce-aa6a-944c48e631e4",
    "$viewOrder": 0,
    "expanded": true,
    "cn": [
        {
            "id": "ExtBox1-ext-gen31779",
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onDataviewItemSwipe",
                "implHandler": [
                    "var deleteButtons = dataview.query('button');",
                    "",
                    "//hide other delete buttons",
                    "for (var i=0; i < deleteButtons.length; i++) {",
                    "    deleteButtons[i].hide();",
                    "}",
                    "",
                    "//show item delete button",
                    "target.query('button')[0].show();",
                    "",
                    "//hide delete button after tap",
                    "Ext.Viewport.element.on({tap:function(){",
                    "    target.query('button')[0].hide();",
                    "}, single:true});"
                ],
                "name": "itemswipe",
                "designer|targetType": "Ext.dataview.DataView",
                "designer|controlQuery": "#myContactDataView",
                "designer|userClassName": "onDataviewItemSwipe"
            },
            "customConfigs": [],
            "expanded": true
        },
        {
            "id": "ExtBox1-ext-gen13510",
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onCancelContactTap",
                "implHandler": [
                    "//delete form",
                    "this.getContactDetail().reset();",
                    "",
                    "//set active item",
                    "Ext.Viewport.setActiveItem(0);"
                ],
                "name": "tap",
                "designer|targetType": "Ext.Button",
                "designer|controlQuery": "#cancelContact",
                "designer|userClassName": "onCancelContactTap"
            },
            "customConfigs": [],
            "expanded": true
        },
        {
            "id": "ExtBox1-ext-gen4127",
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "ContactDetail",
                "selector": "ContactDetail",
                "xtype": "ContactDetail",
                "autoCreate": true,
                "designer|userClassName": "ContactDetail"
            },
            "customConfigs": [],
            "expanded": true
        },
        {
            "id": "ExtBox1-ext-gen18558",
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onSaveContactTap",
                "implHandler": [
                    "var form = this.getContactDetail(),",
                    "    record = form.getRecord(),",
                    "    values = form.getValues();",
                    "",
                    "",
                    "if(record) { //if editing record",
                    "    record.set(values);",
                    "    record.save();",
                    "} else { //if new record",
                    "    Ext.getStore('People').add(values);",
                    "}",
                    "",
                    "//update summary",
                    "this.getApplication().getController('Summary').updateSummary();",
                    "",
                    "//clear form",
                    "this.getContactDetail().reset();",
                    "",
                    "//set active item",
                    "Ext.Viewport.setActiveItem(0);"
                ],
                "name": "tap",
                "designer|targetType": "Ext.Button",
                "designer|controlQuery": "#saveContact",
                "designer|userClassName": "onSaveContactTap"
            },
            "customConfigs": [],
            "expanded": true
        },
        {
            "id": "ExtBox1-ext-gen14311",
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onDataviewtemTap",
                "implHandler": [
                    "var form = this.getContactDetail();",
                    "",
                    "//set the record for the form",
                    "form.setRecord(record);",
                    "",
                    "//set active item",
                    "Ext.Viewport.setActiveItem(form);"
                ],
                "name": "itemtap",
                "designer|targetType": "Ext.dataview.List",
                "designer|controlQuery": "#myContactDataView",
                "designer|userClassName": "onDataviewtemTap"
            },
            "customConfigs": [],
            "expanded": true
        },
        {
            "id": "ExtBox1-ext-gen51194",
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onAddContactTap",
                "implHandler": [
                    "",
                    "var form = this.getContactDetail();",
                    "form.reset(); //clear form",
                    "form.setRecord(null); //clear record from form",
                    "",
                    "//set active item",
                    "Ext.Viewport.setActiveItem(this.getContactDetail());"
                ],
                "name": "tap",
                "designer|targetType": "Ext.Button",
                "designer|controlQuery": "#addContact",
                "designer|userClassName": "onAddContactTap"
            },
            "customConfigs": [],
            "expanded": true
        },
        {
            "id": "ExtBox1-ext-gen44167",
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "myContactDataView",
                "selector": "#myContactDataView",
                "designer|userClassName": "myContactDataView"
            },
            "customConfigs": [],
            "expanded": true
        }
    ]
}